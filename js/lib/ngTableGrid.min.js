var ngTableGrid=angular.module("ngTableGrid",[]);ngTableGrid.directive("ngTableGrid",function(){return{restrict:"A",templateUrl:"templates/grid.html",scope:{datatablegrid:"="},controller:function(a){a.listSelected=a.datatablegrid.data.filter(function(a){return a.marked===!0}),a.msj="hola",a.$watch("datatablegrid",function(b,c){a.listSelected=a.datatablegrid.data.filter(function(a){return a.marked===!0})},!0),a.checkAll=function(){a.selectedAll?a.selectedAll=!0:a.selectedAll=!1,angular.forEach(a.datatablegrid.data,function(b){b.marked=a.selectedAll})},a.orderBy=function(b){a.reverse=a.elementOrder===b?!a.reverse:!1,a.elementOrder=b},a.selectionRow=function(a){a.marked=!a.marked},a.saverow=function(){console.log(a.newrow),a.datatablegrid.data.push(a.newrow),a.newrow={},a.showadd=!1},a.deleteData=function(){angular.forEach(a.listSelected,function(b){var c=a.datatablegrid.data.indexOf(b);a.datatablegrid.data[c]=null;for(var d=c;d<a.datatablegrid.data.length-1;d++)a.datatablegrid.data[d]=a.datatablegrid.data[d+1];a.datatablegrid.data.pop()})},a.deleteRow=function(b){var c=a.datatablegrid.data.indexOf(b);console.log(c),a.datatablegrid.data[c]=null;for(var d=c;d<=a.datatablegrid.data.length-1;d++)console.log(d),a.datatablegrid.data[d]=a.datatablegrid.data[d+1];a.datatablegrid.data.pop()}}}});